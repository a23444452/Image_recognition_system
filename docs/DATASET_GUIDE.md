# è³‡æ–™é›†å‰µå»ºæŒ‡å—

## ğŸ“ é‡è¦ï¼šè³‡æ–™é›†è·¯å¾‘è¦æ±‚

### âš ï¸ Docker Compose ç’°å¢ƒé™åˆ¶

åœ¨ä½¿ç”¨ Docker Compose æ™‚ï¼Œå¾Œç«¯å®¹å™¨**åªèƒ½å­˜å–å°ˆæ¡ˆå…§çš„ `./datasets` ç›®éŒ„**ã€‚

### âœ… æ­£ç¢ºåšæ³•

**æ­¥é©Ÿ 1ï¼šå°‡æ‚¨çš„è³‡æ–™é›†è¤‡è£½åˆ°å°ˆæ¡ˆç›®éŒ„ä¸‹**

```bash
# åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
cd /Users/vincewang/Desktop/Project/Image_recognition_system

# è¤‡è£½æ‚¨çš„è³‡æ–™é›†åˆ° datasets ç›®éŒ„
cp -r /path/to/your/original_dataset ./datasets/raw_data
```

**æ­¥é©Ÿ 2ï¼šåœ¨å‰ç«¯å¡«å¯«è·¯å¾‘æ™‚ä½¿ç”¨ç›¸å°è·¯å¾‘**

åœ¨ Web ä»‹é¢å‰µå»ºè³‡æ–™é›†æ™‚ï¼Œä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š

```
./datasets/raw_data
```

æˆ–ä½¿ç”¨å®¹å™¨å…§çš„çµ•å°è·¯å¾‘ï¼š

```
/app/datasets/raw_data
```

### âŒ éŒ¯èª¤åšæ³•

âŒ **ä¸è¦ä½¿ç”¨å®¿ä¸»æ©Ÿçš„çµ•å°è·¯å¾‘**ï¼š
```
/Users/vincewang/Desktop/my_dataset  âŒ å®¹å™¨ç„¡æ³•å­˜å–
/Users/vincewang/Documents/data      âŒ å®¹å™¨ç„¡æ³•å­˜å–
~/Downloads/yolo_data                âŒ å®¹å™¨ç„¡æ³•å­˜å–
```

---

## ğŸ“‚ è³‡æ–™é›†ç›®éŒ„çµæ§‹

### åŸå§‹è³‡æ–™å¤¾çµæ§‹ï¼ˆæ”¾åœ¨ ./datasets/ ä¸‹ï¼‰

```
Image_recognition_system/
â””â”€â”€ datasets/
    â””â”€â”€ raw_data/              # æ‚¨çš„åŸå§‹è³‡æ–™å¤¾
        â”œâ”€â”€ image1.jpg         # åœ–ç‰‡æª”æ¡ˆ
        â”œâ”€â”€ image1.txt         # YOLO æ¨™è¨»æª”
        â”œâ”€â”€ image2.jpg
        â”œâ”€â”€ image2.txt
        â”œâ”€â”€ ...
        â””â”€â”€ classes.txt        # é¡åˆ¥åç¨±ï¼ˆé¸ç”¨ï¼‰
```

### æ”¯æ´çš„åœ–ç‰‡æ ¼å¼
- `.jpg`, `.jpeg`
- `.png`
- `.bmp`
- `.webp`

### YOLO æ¨™è¨»æ ¼å¼ï¼ˆ.txtï¼‰

æ¯è¡Œä»£è¡¨ä¸€å€‹ç‰©ä»¶ï¼Œæ ¼å¼ï¼š`<class_id> <x_center> <y_center> <width> <height>`

```
0 0.5 0.5 0.3 0.4
1 0.2 0.3 0.1 0.2
```

> **æ³¨æ„**ï¼šæ‰€æœ‰åº§æ¨™å€¼ç‚ºç›¸å°å€¼ï¼ˆç¯„åœ 0.0 åˆ° 1.0ï¼‰

### classes.txtï¼ˆé¸ç”¨ï¼‰

å¦‚æœæä¾› `classes.txt`ï¼Œæ¯è¡Œä¸€å€‹é¡åˆ¥åç¨±ï¼š

```
person
car
dog
cat
```

---

## ğŸš€ å®Œæ•´æ“ä½œæµç¨‹

### æ–¹æ³• 1ï¼šä½¿ç”¨ Web ä»‹é¢ï¼ˆæ¨è–¦ï¼‰

#### æ­¥é©Ÿ 1ï¼šæº–å‚™è³‡æ–™é›†

```bash
# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd /Users/vincewang/Desktop/Project/Image_recognition_system

# å‰µå»ºåŸå§‹è³‡æ–™å­˜æ”¾ç›®éŒ„
mkdir -p datasets/raw_data

# è¤‡è£½æ‚¨çš„è³‡æ–™é›†
cp -r /path/to/your/images_and_labels/* datasets/raw_data/

# é©—è­‰æª”æ¡ˆæ˜¯å¦è¤‡è£½æˆåŠŸ
ls -la datasets/raw_data/
```

#### æ­¥é©Ÿ 2ï¼šè¨ªå• Web ä»‹é¢

é–‹å•Ÿç€è¦½å™¨è¨ªå•ï¼šhttp://localhost:5173

#### æ­¥é©Ÿ 3ï¼šå‰µå»ºè³‡æ–™é›†

1. é»æ“Šã€Œè³‡æ–™é›†ç®¡ç†ã€æˆ–ã€ŒDatasetsã€é é¢
2. é»æ“Šã€Œå‰µå»ºè³‡æ–™é›†ã€æŒ‰éˆ•
3. å¡«å¯«è¡¨å–®ï¼š

| æ¬„ä½ | ç¯„ä¾‹å€¼ | èªªæ˜ |
|------|--------|------|
| è³‡æ–™é›†åç¨± | `my_object_detection` | è‡ªè¨‚åç¨± |
| æè¿° | `è»Šè¼›åµæ¸¬è³‡æ–™é›†` | é¸å¡« |
| **åŸå§‹è³‡æ–™å¤¾è·¯å¾‘** | `./datasets/raw_data` | âš ï¸ å¿…é ˆåœ¨ datasets ä¸‹ |
| è¨“ç·´é›†æ¯”ä¾‹ | `0.8` | 80% è¨“ç·´, 20% é©—è­‰ |

4. é»æ“Šã€Œå‰µå»ºã€æŒ‰éˆ•

#### æ­¥é©Ÿ 4ï¼šç­‰å¾…è™•ç†å®Œæˆ

ç³»çµ±æœƒè‡ªå‹•ï¼š
- âœ… é©—è­‰è³‡æ–™å¤¾çµæ§‹
- âœ… åˆ†å‰²ç‚º train/val
- âœ… è¤‡è£½åœ–ç‰‡å’Œæ¨™è¨»æª”
- âœ… ç”Ÿæˆçµ±è¨ˆè³‡è¨Š

---

### æ–¹æ³• 2ï¼šä½¿ç”¨ API

```bash
# ç¢ºä¿è³‡æ–™é›†å·²åœ¨ datasets ç›®éŒ„ä¸‹
curl -X POST "http://localhost:8000/api/v1/datasets" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "my_dataset",
    "description": "ç‰©ä»¶åµæ¸¬è³‡æ–™é›†",
    "source_folder": "./datasets/raw_data",
    "split_ratio": 0.8
  }'
```

---

## ğŸ“Š è™•ç†å¾Œçš„è¼¸å‡ºçµæ§‹

å‰µå»ºæˆåŠŸå¾Œï¼Œç³»çµ±æœƒåœ¨ `./datasets/<UUID>/` ç”¢ç”Ÿ YOLO æ¨™æº–çµæ§‹ï¼š

```
datasets/
â”œâ”€â”€ raw_data/                    # æ‚¨çš„åŸå§‹è³‡æ–™ï¼ˆä¿æŒä¸è®Šï¼‰
â”‚   â”œâ”€â”€ image1.jpg
â”‚   â”œâ”€â”€ image1.txt
â”‚   â””â”€â”€ ...
â””â”€â”€ <dataset_uuid>/              # ç³»çµ±è‡ªå‹•ç”Ÿæˆ
    â”œâ”€â”€ images/
    â”‚   â”œâ”€â”€ train/               # è¨“ç·´é›†åœ–ç‰‡ï¼ˆ80%ï¼‰
    â”‚   â”‚   â”œâ”€â”€ img1.jpg
    â”‚   â”‚   â”œâ”€â”€ img2.jpg
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â””â”€â”€ val/                 # é©—è­‰é›†åœ–ç‰‡ï¼ˆ20%ï¼‰
    â”‚       â”œâ”€â”€ img101.jpg
    â”‚       â””â”€â”€ ...
    â”œâ”€â”€ labels/
    â”‚   â”œâ”€â”€ train/               # è¨“ç·´é›†æ¨™è¨»
    â”‚   â”‚   â”œâ”€â”€ img1.txt
    â”‚   â”‚   â”œâ”€â”€ img2.txt
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â””â”€â”€ val/                 # é©—è­‰é›†æ¨™è¨»
    â”‚       â”œâ”€â”€ img101.txt
    â”‚       â””â”€â”€ ...
    â”œâ”€â”€ classes.txt              # é¡åˆ¥åç¨±
    â””â”€â”€ data.yaml                # YOLO é…ç½®æª”ï¼ˆéœ€æ‰‹å‹•ç”Ÿæˆï¼‰
```

---

## âš ï¸ å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### âŒ éŒ¯èª¤ 1ï¼šã€Œä¾†æºè³‡æ–™å¤¾ä¸å­˜åœ¨ã€

**éŒ¯èª¤è¨Šæ¯**ï¼š
```
å‰µå»ºè³‡æ–™é›†å¤±æ•—: ä¾†æºè³‡æ–™å¤¾ä¸å­˜åœ¨
```

**åŸå› **ï¼š
- ä½¿ç”¨äº†å®¹å™¨ç„¡æ³•å­˜å–çš„è·¯å¾‘ï¼ˆå¦‚å®¿ä¸»æ©Ÿçµ•å°è·¯å¾‘ï¼‰
- è·¯å¾‘æ‹¼å¯«éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```bash
# 1. ç¢ºèªè³‡æ–™é›†å·²è¤‡è£½åˆ° datasets ç›®éŒ„
ls ./datasets/raw_data/

# 2. åœ¨ Web ä»‹é¢ä½¿ç”¨ç›¸å°è·¯å¾‘
./datasets/raw_data

# æˆ–ä½¿ç”¨å®¹å™¨å…§çµ•å°è·¯å¾‘
/app/datasets/raw_data
```

---

### âŒ éŒ¯èª¤ 2ï¼šã€Œè³‡æ–™é›†é©—è­‰å¤±æ•—ï¼šç¼ºå°‘ç›®éŒ„ã€

**éŒ¯èª¤è¨Šæ¯**ï¼š
```
è³‡æ–™é›†é©—è­‰å¤±æ•—: ç¼ºå°‘ç›®éŒ„: images/train
```

**åŸå› **ï¼š
- åŸå§‹è³‡æ–™å¤¾ä¸­æ²’æœ‰åœ–ç‰‡æª”æ¡ˆ
- åœ–ç‰‡æ ¼å¼ä¸æ”¯æ´

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```bash
# æª¢æŸ¥è³‡æ–™å¤¾å…§å®¹
ls ./datasets/raw_data/

# æ‡‰è©²çœ‹åˆ° .jpg, .png ç­‰åœ–ç‰‡æª”æ¡ˆ
# å¦‚æœæ²’æœ‰ï¼Œè«‹ç¢ºèªè³‡æ–™é›†å·²æ­£ç¢ºè¤‡è£½
```

---

### âŒ éŒ¯èª¤ 3ï¼šã€Œä¾†æºè³‡æ–™å¤¾ä¸­æœªæ‰¾åˆ°åœ–ç‰‡ã€

**éŒ¯èª¤è¨Šæ¯**ï¼š
```
ä¾†æºè³‡æ–™å¤¾ä¸­æœªæ‰¾åˆ°åœ–ç‰‡
```

**åŸå› **ï¼š
- è³‡æ–™å¤¾æ˜¯ç©ºçš„
- åœ–ç‰‡åœ¨å­ç›®éŒ„ä¸­ï¼ˆä¸æ”¯æ´ï¼‰

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```bash
# ç¢ºä¿åœ–ç‰‡åœ¨è³‡æ–™å¤¾æ ¹ç›®éŒ„
datasets/raw_data/
â”œâ”€â”€ image1.jpg  âœ… æ­£ç¢º
â””â”€â”€ subfolder/
    â””â”€â”€ image2.jpg  âŒ ä¸æ”¯æ´å·¢ç‹€çµæ§‹

# éœ€å°‡æ‰€æœ‰åœ–ç‰‡ç§»åˆ°æ ¹ç›®éŒ„
mv datasets/raw_data/subfolder/*.jpg datasets/raw_data/
```

---

### âš ï¸ è­¦å‘Šï¼šã€Œæ¨™è¨»æ•¸é‡ä¸åŒ¹é…ã€

**è­¦å‘Šè¨Šæ¯**ï¼š
```
train é›†åœ–ç‰‡æ•¸ (100) èˆ‡æ¨™è¨»æ•¸ (95) ä¸åŒ¹é…
```

**èªªæ˜**ï¼š
- é€™æ˜¯**è­¦å‘Š**è€ŒééŒ¯èª¤ï¼Œè³‡æ–™é›†ä»æœƒå‰µå»º
- éƒ¨åˆ†åœ–ç‰‡æ²’æœ‰å°æ‡‰çš„ `.txt` æ¨™è¨»æª”
- YOLO æœƒå°‡é€™äº›åœ–ç‰‡è¦–ç‚ºèƒŒæ™¯ï¼ˆæ²’æœ‰ç‰©ä»¶ï¼‰

**æ˜¯å¦éœ€è¦ä¿®æ­£**ï¼š
- å¦‚æœé€™äº›åœ–ç‰‡ç¢ºå¯¦æ²’æœ‰ç‰©ä»¶ï¼ˆèƒŒæ™¯åœ–ï¼‰ï¼Œä¸éœ€è¦ä¿®æ­£
- å¦‚æœéºæ¼äº†æ¨™è¨»ï¼Œéœ€è¦è£œé½Šæ¨™è¨»æª”

---

## ğŸ§ª å¿«é€Ÿæ¸¬è©¦ç¯„ä¾‹

### å‰µå»ºæ¸¬è©¦è³‡æ–™é›†

```bash
# 1. é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd /Users/vincewang/Desktop/Project/Image_recognition_system

# 2. å‰µå»ºæ¸¬è©¦è³‡æ–™å¤¾
mkdir -p datasets/test_data

# 3. å‰µå»ºæ¸¬è©¦æ¨™è¨»æª”
echo "0 0.5 0.5 0.3 0.4" > datasets/test_data/test1.txt
echo "1 0.2 0.3 0.1 0.2" > datasets/test_data/test2.txt

# 4. å‰µå»º classes.txt
echo -e "person\ncar" > datasets/test_data/classes.txt

# 5. è¤‡è£½æˆ–ä¸‹è¼‰æ¸¬è©¦åœ–ç‰‡åˆ°è©²ç›®éŒ„
# cp /path/to/test1.jpg datasets/test_data/
# cp /path/to/test2.jpg datasets/test_data/

# 6. é©—è­‰æª”æ¡ˆ
ls -la datasets/test_data/
```

### åœ¨ Web ä»‹é¢å‰µå»º

ä½¿ç”¨è·¯å¾‘ï¼š`./datasets/test_data`

---

## ğŸ“ è·¯å¾‘å°ç…§è¡¨

| æ‚¨çœ‹åˆ°çš„è·¯å¾‘ï¼ˆå®¿ä¸»æ©Ÿï¼‰ | å®¹å™¨å…§è·¯å¾‘ | å‰ç«¯æ‡‰å¡«å¯« |
|------------------------|-----------|-----------|
| `./datasets/raw_data` | `/app/datasets/raw_data` | `./datasets/raw_data` âœ… |
| `./datasets/my_images` | `/app/datasets/my_images` | `./datasets/my_images` âœ… |
| `/Users/vincewang/Desktop/data` | âŒ ä¸å¯å­˜å– | âŒ ä¸æ”¯æ´ |
| `~/Documents/yolo_data` | âŒ ä¸å¯å­˜å– | âŒ ä¸æ”¯æ´ |

---

## ğŸ¯ æœ€ä½³å¯¦è¸

### 1. è³‡æ–™å¤¾å‘½åå»ºè­°

```bash
datasets/
â”œâ”€â”€ raw_coco_2017/          # æ¸…æ¥šçš„å‘½å
â”œâ”€â”€ raw_custom_faces/
â””â”€â”€ raw_vehicle_detection/
```

### 2. æ•´ç†åŸå§‹è³‡æ–™

```bash
# å»ºè­°å…ˆæ•´ç†å¥½è³‡æ–™å¤¾çµæ§‹
datasets/raw_data/
â”œâ”€â”€ *.jpg           # æ‰€æœ‰åœ–ç‰‡åœ¨æ ¹ç›®éŒ„
â”œâ”€â”€ *.txt           # å°æ‡‰æ¨™è¨»åœ¨æ ¹ç›®éŒ„
â””â”€â”€ classes.txt     # é¡åˆ¥å®šç¾©
```

### 3. å‚™ä»½åŸå§‹è³‡æ–™

```bash
# å‰µå»ºè³‡æ–™é›†å‰å…ˆå‚™ä»½
cp -r datasets/raw_data datasets/raw_data_backup
```

### 4. æª¢æŸ¥ç£ç¢Ÿç©ºé–“

```bash
# è³‡æ–™é›†æœƒè¢«è¤‡è£½ä¸€ä»½ï¼Œç¢ºä¿æœ‰è¶³å¤ ç©ºé–“
df -h .
```

---

## ğŸ”— ç›¸é—œè³‡æº

- [YOLO æ¨™è¨»æ ¼å¼è©³ç´°èªªæ˜](https://docs.ultralytics.com/datasets/detect/)
- [å°ˆæ¡ˆä¸»è¦æ–‡æª” (README)](../README.md)
- [ç³»çµ±æ¶æ§‹æ–‡æª” (ARCHITECTURE)](../ARCHITECTURE.md)
- [é–‹ç™¼æŒ‡å— (DEVELOPMENT)](../DEVELOPMENT.md)

---

## ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°å…¶ä»–å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š
1. Docker å®¹å™¨æ˜¯å¦æ­£å¸¸é‹è¡Œï¼š`docker-compose ps`
2. å¾Œç«¯æ—¥èªŒï¼š`docker-compose logs backend`
3. æª”æ¡ˆæ¬Šé™ï¼š`ls -la datasets/`

---

**æœ€å¾Œæ›´æ–°**: 2026-01-12
**ç‰ˆæœ¬**: 1.0.0
