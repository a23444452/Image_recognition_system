# YOLO å…¨ç«¯å½±åƒè¾¨è­˜ç³»çµ±

åŸºæ–¼æœƒè­°å…±è­˜é–‹ç™¼çš„å®Œæ•´ YOLO ç‰©ä»¶åµæ¸¬ç³»çµ±ï¼Œæ•´åˆè¨“ç·´ã€æ¨è«–èˆ‡å³æ™‚ä¸²æµåŠŸèƒ½ã€‚

## ğŸ¯ å°ˆæ¡ˆç›®æ¨™

æ•´åˆå…©å€‹ç¨ç«‹å°ˆæ¡ˆçš„å„ªå‹¢ï¼š
- **YOLO_No_Code_Training**: åœ–å½¢åŒ–è¨“ç·´ä»‹é¢ã€è³‡æ–™é›†ç®¡ç†
- **Camera_Detection**: å³æ™‚å½±åƒä¸²æµåµæ¸¬ã€Web ä»‹é¢

å»ºç«‹ä¸€å€‹çµ±ä¸€çš„ Web ç³»çµ±ï¼Œæä¾›ï¼š
1. âœ… **è¨“ç·´æ¨¡çµ„**: Web ä»‹é¢åŒ–çš„è¨“ç·´è¨­å®šèˆ‡åŸ·è¡Œ
2. âœ… **ä¸²æµåµæ¸¬**: å³æ™‚æ”å½±æ©Ÿåµæ¸¬
3. âœ… **è³‡æ–™é›†ç®¡ç†**: ä¸Šå‚³ã€ç®¡ç†ã€åˆ†é¡è³‡æ–™é›†
4. âœ… **æ¨¡å‹ç®¡ç†**: åˆ‡æ›æ¨¡å‹ã€æŸ¥çœ‹è¨“ç·´æ­·å²
5. âœ… **çµ±ä¸€å„€è¡¨æ¿**: è¨“ç·´é€²åº¦ + åµæ¸¬çµ±è¨ˆ

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React + Vite)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å„€è¡¨æ¿â”‚å³æ™‚åµæ¸¬é  â”‚è¨“ç·´é…ç½®é    â”‚è¨“ç·´ç›£æ§é  â”‚è³‡æ–™é›†é  â”‚ â”‚
â”‚  â”‚      â”‚(WebSocket)â”‚(Multi-Step)â”‚(WebSocket)â”‚         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTP + WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            FastAPI Gateway (Port 8000)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Routers: /training | /datasets | /models | /ws   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Services: TrainingService | DatasetService       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Engines: YOLOTrainer | StreamingEngine           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼             â–¼              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ SQLite   â”‚   â”‚ Redis   â”‚   â”‚ File Storage â”‚
     â”‚ (ä»»å‹™/çµæœ)â”‚   â”‚(ä»»å‹™éšŠåˆ—)â”‚   â”‚ (æ¨¡å‹/è³‡æ–™é›†) â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                    â”‚RQ Workerâ”‚
                    â”‚(è¨“ç·´åŸ·è¡Œ)â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€è¡“æ£§

### Backend
- **Framework**: FastAPI 0.104.1
- **Task Queue**: Python-RQ + Redis
- **AI Engine**: Ultralytics YOLO (v5/v8/v11)
- **Computer Vision**: OpenCV, Pillow-SIMD
- **Database**: SQLite (é–‹ç™¼) / PostgreSQL (ç”Ÿç”¢)
- **Protocol**: WebSocket (å³æ™‚ä¸²æµ)

### Frontend
- **Framework**: React 18 + Vite
- **Styling**: Tailwind CSS
- **State Management**: React Hook Form + Context API
- **Charts**: Recharts
- **Icons**: Lucide React

### Infrastructure
- **CI/CD**: GitHub Actions
- **Containerization**: Docker + Docker Compose
- **Monitoring**: Prometheus + Grafana (è¦åŠƒä¸­)

## ğŸ“‹ å°ˆæ¡ˆçµæ§‹

```
Image_recognition_system/
â”œâ”€â”€ backend/                    # å¾Œç«¯ç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ routers/               # API ç«¯é»
â”‚   â”‚   â”œâ”€â”€ training.py        # è¨“ç·´ä»»å‹™ API
â”‚   â”‚   â”œâ”€â”€ datasets.py        # è³‡æ–™é›†ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ models.py          # æ¨¡å‹ç®¡ç† API
â”‚   â”‚   â””â”€â”€ streaming.py       # å³æ™‚ä¸²æµ API
â”‚   â”œâ”€â”€ services/              # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”‚   â”œâ”€â”€ training_service.py
â”‚   â”‚   â”œâ”€â”€ dataset_service.py
â”‚   â”‚   â””â”€â”€ streaming_service.py
â”‚   â”œâ”€â”€ engines/               # æ ¸å¿ƒå¼•æ“
â”‚   â”‚   â”œâ”€â”€ yolo_trainer.py    # YOLO è¨“ç·´å¼•æ“
â”‚   â”‚   â””â”€â”€ yolo_inference.py  # YOLO æ¨è«–å¼•æ“
â”‚   â”œâ”€â”€ models/                # è³‡æ–™åº«æ¨¡å‹
â”‚   â”œâ”€â”€ schemas/               # Pydantic è³‡æ–™é©—è­‰
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ tests/                 # æ¸¬è©¦
â”‚   â”œâ”€â”€ main.py               # FastAPI ä¸»ç¨‹å¼
â”‚   â””â”€â”€ requirements.txt      # Python ä¾è³´
â”œâ”€â”€ frontend/                  # å‰ç«¯ç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # React å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ pages/            # é é¢å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/            # è‡ªè¨‚ Hooks
â”‚   â”‚   â”œâ”€â”€ contexts/         # Context API
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•¸
â”‚   â”‚   â””â”€â”€ App.jsx          # ä¸»æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ config/                    # é…ç½®æª”æ¡ˆ
â”œâ”€â”€ scripts/                   # è¼”åŠ©è…³æœ¬
â”œâ”€â”€ docs/                      # æ–‡æª”
â”œâ”€â”€ .github/                   # CI/CD é…ç½®
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml
â”œâ”€â”€ docker-compose.yml         # Docker ç·¨æ’
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md                  # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç³»çµ±è¦æ±‚
- Python 3.10+
- Node.js 18+
- Redis 6+
- 8GB+ RAM
- GPU (é¸ç”¨ï¼Œç”¨æ–¼åŠ é€Ÿè¨“ç·´)

### å¾Œç«¯è¨­å®š

```bash
# 1. å»ºç«‹è™›æ“¬ç’°å¢ƒ
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 2. å®‰è£ä¾è³´
pip install -r requirements.txt

# 3. å•Ÿå‹• Redis (éœ€å…ˆå®‰è£ Redis)
redis-server

# 4. å•Ÿå‹• RQ Worker
rq worker training

# 5. å•Ÿå‹• FastAPI
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### å‰ç«¯è¨­å®š

```bash
# 1. å®‰è£ä¾è³´
cd frontend
npm install

# 2. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev
```

è¨ªå• http://localhost:5173 æŸ¥çœ‹å‰ç«¯ä»‹é¢ã€‚

## ğŸ“š API æ–‡æª”

å•Ÿå‹•å¾Œç«¯å¾Œï¼Œè¨ªå• http://localhost:8000/docs æŸ¥çœ‹å®Œæ•´çš„ Swagger API æ–‡æª”ã€‚

### ä¸»è¦ API ç«¯é»

#### è¨“ç·´æ¨¡çµ„
- `POST /api/v1/training/start` - å•Ÿå‹•è¨“ç·´ä»»å‹™
- `GET /api/v1/training/{task_id}` - æŸ¥è©¢è¨“ç·´ç‹€æ…‹
- `DELETE /api/v1/training/{task_id}` - åœæ­¢è¨“ç·´
- `WS /ws/training/{task_id}` - è¨“ç·´é€²åº¦å³æ™‚æ¨é€

#### è³‡æ–™é›†ç®¡ç†
- `POST /api/v1/datasets/upload` - ä¸Šå‚³è³‡æ–™é›†
- `POST /api/v1/datasets/prepare` - é è™•ç†è³‡æ–™é›†
- `GET /api/v1/datasets` - åˆ—å‡ºæ‰€æœ‰è³‡æ–™é›†

#### æ¨¡å‹ç®¡ç†
- `GET /api/v1/models` - åˆ—å‡ºæ‰€æœ‰æ¨¡å‹
- `POST /api/v1/models/{id}/activate` - åˆ‡æ›æ´»èºæ¨¡å‹

#### å³æ™‚åµæ¸¬
- `WS /ws/video` - å½±åƒä¸²æµ

## ğŸ”§ é–‹ç™¼æŒ‡å—

### é—œéµè¨­è¨ˆæ±ºç­–

1. **ä»»å‹™éšŠåˆ—**: ä½¿ç”¨ RQ (Python-RQ) è™•ç†é•·æ™‚é–“è¨“ç·´ä»»å‹™
2. **å³æ™‚é€šè¨Š**: ä½¿ç”¨ WebSocket æ¨é€è¨“ç·´é€²åº¦ï¼ˆ0.5ç§’ç¯€æµï¼‰
3. **è³‡æºéš”é›¢**: è¨“ç·´æ™‚æš«åœä¸²æµï¼ˆé¿å… GPU çˆ­æ¶ï¼‰
4. **æ•ˆèƒ½å„ªåŒ–**: ProcessPoolExecutor + pillow-simd

### é–‹ç™¼è¦ç¯„

- **Python**: éµå¾ª PEP8ï¼Œä½¿ç”¨ Type Hints
- **React**: ä½¿ç”¨ Functional Components + Hooks
- **Git**: Conventional Commits æ ¼å¼
- **æ¸¬è©¦**: å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ > 80%

### æ•ˆèƒ½å„ªåŒ–æª¢æŸ¥æ¸…å–®

- [x] ä½¿ç”¨ ProcessPoolExecutor è™•ç†è³‡æ–™é›†
- [x] å®‰è£ pillow-simd æ›¿ä»£ Pillow
- [ ] è¨“ç·´æ™‚æš«åœä¸²æµ
- [ ] WebSocket é€²åº¦æ¨é€ç¯€æµ
- [ ] React.memo é¿å…é‡æ–°æ¸²æŸ“

## ğŸ§ª æ¸¬è©¦

```bash
# å¾Œç«¯æ¸¬è©¦
cd backend
pytest tests/ -v --cov=.

# å‰ç«¯æ¸¬è©¦
cd frontend
npm run test
```

## ğŸ“¦ éƒ¨ç½²

### Docker éƒ¨ç½²

```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
docker-compose up -d

# æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f

# åœæ­¢æœå‹™
docker-compose down
```

### ç”Ÿç”¢ç’°å¢ƒ

åƒè€ƒ `docs/DEPLOYMENT.md` ç²å–è©³ç´°çš„éƒ¨ç½²æŒ‡å—ã€‚

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'feat: add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Š

MIT License

## ğŸ‘¥ é–‹ç™¼åœ˜éšŠ

æ ¹æ“šå°ˆå®¶æœƒè­°å…±è­˜é–‹ç™¼ï¼š
- å¾Œç«¯ç¸½æ¶æ§‹å¸«
- FastAPI å°ˆå®¶
- UI/UX è¨­è¨ˆå¸«
- æ•ˆèƒ½å„ªåŒ–å°ˆå®¶

---

**Built with â¤ï¸ using YOLO + FastAPI + React**
